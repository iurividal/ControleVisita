@using ControleVisita.Models

@{
    ViewBag.Title = "Clientes";
}

<div class="h3">Lista de Cliente</div>


@(Html.DevExtreme().DataGrid<ControleVisita.Models.PessoaModel>()
  .DataSource(ds => ds.WebApi()
      .Controller("Cliente").Key("IdPessoa")
      .LoadAction("Get")
      .UpdateAction("Put").Key("IdPessoa")
      .DeleteAction("Delete").Key("IdPessoa")
  )
  .RemoteOperations(true)
  .Columns(columns =>
  {

      columns.AddFor(m => m.IdPessoa).Visible(false);

      columns.AddFor(m => m.NomeCompleto);

      columns.AddFor(m => m.TipoPessoa).Visible(false);

      columns.AddFor(m => m.Documento);

      columns.AddFor(m => m.DDDFone);
      columns.AddFor(m => m.Telefone);

      columns.AddFor(m => m.DddCelular);
      columns.AddFor(m => m.Celular);


      columns.AddFor(m => m.DataNascimento)
      .DataType(GridColumnDataType.Date);

      columns.AddFor(m => m.Email);
      columns.AddFor(m => m.Informacao);
  })
  .Editing(e => e
      .AllowUpdating(true)
      .AllowDeleting(true)
      .Mode(GridEditMode.Popup)
      .UseIcons(true)

  )
   .Paging(p => p.PageSize(10))
      .FilterRow(f => f.Visible(true))
      .HeaderFilter(f => f.Visible(true))
      .GroupPanel(p => p.Visible(true))
      .ShowBorders(true)

)



@*@(Html.DevExtreme().Form<ControleVisita.Models.PessoaModel>()
        .Items(items =>
            {

            items.AddSimpleFor(m => m.IdPessoa);

            items.AddSimpleFor(m => m.TipoPessoa);

            items.AddSimpleFor(m => m.NomeCompleto);

            items.AddSimpleFor(m => m.Documento);

            items.AddSimpleFor(m => m.Telefone);

            items.AddSimpleFor(m => m.Celular);

            items.AddSimpleFor(m => m.DataNascimento);

            items.AddSimpleFor(m => m.Email);
        })
    )*@

@*@(Html.DevExtreme().DataGrid<Order>()
        .ShowBorders(true)
        .DataSource(d => d.WebApi().Controller("Orders").Key("OrderID"))
        .Columns(columns => {
            columns.AddFor(m => m.OrderID);
            columns.AddFor(m => m.OrderDate);
            columns.AddFor(m => m.CustomerName);
            columns.AddFor(m => m.ShipCountry);
            columns.AddFor(m => m.ShipCity);
        })
        .Paging(p => p.PageSize(10))
        .FilterRow(f => f.Visible(true))
        .HeaderFilter(f => f.Visible(true))
        .GroupPanel(p => p.Visible(true))
        .Grouping(g => g.AutoExpandAll(false))
        .RemoteOperations(true)
        .Summary(s => s
            .TotalItems(totalItems => {
                totalItems.AddFor(m => m.ShipCity).SummaryType(SummaryType.Count);
            })
            .GroupItems(groupItems => {
                groupItems.Add().SummaryType(SummaryType.Count);
            })
        )
    )*@